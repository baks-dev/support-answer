{% trans_default_domain('admin.support.answer') %}
<main class="main d-print-none ">

    <section class="container px-4 mb-5">

        {# breadcrumb #}
        <div class="mt-3 d-flex justify-content-between">
            {{ include(_self|replace({ "content.html.twig": "_breadcrumb.html.twig" })) }}
        </div>

        <div class="d-flex justify-content-between align-items-center mb-3 gap-3">
            <div class="w-100">
                <h1 class="h4 text-uppercase fw-bolder mb-0">
                    {{ 'admin.page.index'|trans }}
                </h1>
            </div>

            {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_SUPPORT_NEW') %}
                <a href="{{ path('support-answer:admin.newedit.new') }}" class="btn btn-primary"
                   title="Добавить ответ">
                    {{ 'btn.new'|trans({}, 'core.btn') }}
                </a>
            {% endif %}

        </div>


        <div class="border border-light rounded-4 p-3 p-3">
            <div class="d-flex justify-content-between align-items-start gap-3">

                {# Форма поиска по разделу #}
                {% include Template('/_includes/'~baks_settings.device~'/search.html.twig') %}

                {# Форма фильтр по типу профиля пользователя #}
                <div class="col-6">
                    {{ form_start(filter) }}
                    <div class="w-100 d-flex gap-3 justify-content-end" style="height: 55px;">
                        <div class="w-50">
                            {{ form_row(filter.type, { placeholder: 'Выберите тип профиля из списка ...', attr : { 'data-select' : 'select2' } }) }}
                        </div>
                    </div>
                    {{ form_end(filter) }}
                </div>

            </div>
        </div>

        <table class="table table-striped table-borderless mt-3"
               style='--bs-table-striped-bg: rgba(249,249,249,0.7);'>
            <thead>
            <tr>
                <th>#</th>
                <th>Заголовок</th>
                <th>Тип профиля</th>
                <th>Содержимое</th>
            </tr>
            </thead>
            <tbody>
            {% for item in query.data %}
                {{ include(_self|replace({ "content.html.twig": "card.html.twig" })) }}
            {% endfor %}
            </tbody>
        </table>

        {# pagination #}
        {% include Template('_includes/'~baks_settings.device~'/pagination.html.twig') with { 'pagination' : query } %}

    </section>

</main>